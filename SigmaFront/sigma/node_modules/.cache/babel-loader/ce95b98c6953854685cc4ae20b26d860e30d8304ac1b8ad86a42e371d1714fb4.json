{"ast":null,"code":"import React,{useState,useEffect}from'react';import\"./CoursesPage.css\";import CourseCard from'../../components/CourseCard/CourseCard';import pozadina from\"../../images/pozadina.webp\";import api from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CoursesPage=()=>{const[courses,setCourses]=useState([]);const[selectedFilters,setSelectedFilters]=useState({course_type:[],level:[],school_type:[]});const[error,setError]=useState('');useEffect(()=>{window.scrollTo(0,0);const fetchCourses=async()=>{try{const data=await api.getAllCourses();setCourses(data);}catch(err){setError('Failed to fetch courses');}};fetchCourses();},[]);const handleFilterChange=event=>{const{name,value}=event.target;setSelectedFilters(prevFilters=>{const isAlreadySelected=prevFilters[name].includes(value);const newFilters=isAlreadySelected?prevFilters[name].filter(filter=>filter!==value):[...prevFilters[name],value];return{...prevFilters,[name]:newFilters};});};useEffect(()=>{const fetchFilteredCourses=async()=>{try{const params={course_type:selectedFilters.course_type,level:selectedFilters.level,school_type:selectedFilters.school_type};const data=await api.searchCourses(params);setCourses(data);}catch(err){setError('Failed to fetch filtered courses');}};if(selectedFilters.course_type.length>0||selectedFilters.level.length>0||selectedFilters.school_type.length>0){fetchFilteredCourses();}else{const fetchCourses=async()=>{try{const data=await api.getAllCourses();setCourses(data);}catch(err){setError('Failed to fetch courses');}};fetchCourses();}},[selectedFilters]);return/*#__PURE__*/_jsxs(\"div\",{className:\"CoursesPage__container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"CoursePage__bg\",src:pozadina,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"CoursesPage__container-right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Na\\u0161i Kursevi\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Na \\u010Dasovima koje vode na\\u0161i predava\\u010Di, u\\u010Denik \\u0107e razvijati vje\\u0161tine rje\\u0161avanja problema i komunikacije koje \\u0107e im pomo\\u0107i da budu uspje\\u0161ni u \\u0161koli i \\u0161ire. Interaktivna online platforma sa snimljenim predavanjima dodatno dopunjava interaktivne online sesije.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"CoursesPage__filter-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"CoursesPage__filter-column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Predmeti\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"filter-button\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"course_type\",value:\"matematika\",onChange:handleFilterChange}),/*#__PURE__*/_jsx(\"span\",{children:\"Matematika\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"filter-button\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"course_type\",value:\"fizika\",onChange:handleFilterChange}),/*#__PURE__*/_jsx(\"span\",{children:\"Fizika\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"CoursesPage__filter-column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Nivo\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"filter-button\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"level\",value:\"osnovni\",onChange:handleFilterChange}),/*#__PURE__*/_jsx(\"span\",{children:\"Osnovni\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"filter-button\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"level\",value:\"Srednji\",onChange:handleFilterChange}),/*#__PURE__*/_jsx(\"span\",{children:\"Srednji\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"filter-button\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"level\",value:\"Napredni\",onChange:handleFilterChange}),/*#__PURE__*/_jsx(\"span\",{children:\"Napredni\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"CourseDiv__container\",children:[error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),courses.map(course=>/*#__PURE__*/_jsx(CourseCard,{item:course},course.id))]})]})]});};export default CoursesPage;","map":{"version":3,"names":["React","useState","useEffect","CourseCard","pozadina","api","jsx","_jsx","jsxs","_jsxs","CoursesPage","courses","setCourses","selectedFilters","setSelectedFilters","course_type","level","school_type","error","setError","window","scrollTo","fetchCourses","data","getAllCourses","err","handleFilterChange","event","name","value","target","prevFilters","isAlreadySelected","includes","newFilters","filter","fetchFilteredCourses","params","searchCourses","length","className","children","src","alt","type","onChange","style","color","map","course","item","id"],"sources":["/Users/seidkrsic/Desktop/Sigma/SigmaFront/sigma/src/pages/CoursesPage/CoursesPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport \"./CoursesPage.css\";\nimport CourseCard from '../../components/CourseCard/CourseCard';\nimport pozadina from \"../../images/pozadina.webp\";\nimport api from '../../services/api';\n\nconst CoursesPage = () => {\n  const [courses, setCourses] = useState([]);\n  const [selectedFilters, setSelectedFilters] = useState({\n    course_type: [],\n    level: [],\n    school_type: []\n  });\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    window.scrollTo(0,0)\n    const fetchCourses = async () => {\n      try {\n        const data = await api.getAllCourses();\n        setCourses(data);\n      } catch (err) {\n        setError('Failed to fetch courses');\n      }\n    };\n\n    fetchCourses();\n  }, []);\n\n  const handleFilterChange = (event) => {\n    const { name, value } = event.target;\n    setSelectedFilters((prevFilters) => {\n      const isAlreadySelected = prevFilters[name].includes(value);\n      const newFilters = isAlreadySelected\n        ? prevFilters[name].filter((filter) => filter !== value)\n        : [...prevFilters[name], value];\n\n      return { ...prevFilters, [name]: newFilters };\n    });\n  };\n\n  useEffect(() => {\n    const fetchFilteredCourses = async () => {\n      try {\n        const params = {\n          course_type: selectedFilters.course_type,\n          level: selectedFilters.level,\n          school_type: selectedFilters.school_type\n        };\n        const data = await api.searchCourses(params);\n        setCourses(data);\n      } catch (err) {\n        setError('Failed to fetch filtered courses');\n      }\n    };\n\n    if (selectedFilters.course_type.length > 0 || selectedFilters.level.length > 0 || selectedFilters.school_type.length > 0) {\n      fetchFilteredCourses();\n    } else {\n      const fetchCourses = async () => {\n        try {\n          const data = await api.getAllCourses();\n          setCourses(data);\n        } catch (err) {\n          setError('Failed to fetch courses');\n        }\n      };\n      fetchCourses();\n    }\n  }, [selectedFilters]);\n\n  return (\n    <div className='CoursesPage__container'>\n      <img className='CoursePage__bg' src={pozadina} alt=\"\" />\n      <div className='CoursesPage__container-right'>\n        <h1>Naši Kursevi</h1>\n        <p>Na časovima koje vode naši predavači, učenik će razvijati vještine rješavanja problema i komunikacije koje će im pomoći da budu uspješni u školi i šire. Interaktivna online platforma sa snimljenim predavanjima dodatno dopunjava interaktivne online sesije.</p>\n        <div className='CoursesPage__filter-container'>\n          <div className='CoursesPage__filter-column'>\n            <h3>Predmeti</h3> \n            <label className=\"filter-button\">\n              <input type=\"checkbox\" name=\"course_type\" value=\"matematika\" onChange={handleFilterChange} />\n              <span>Matematika</span>\n            </label>\n            <label className=\"filter-button\">\n              <input type=\"checkbox\" name=\"course_type\" value=\"fizika\" onChange={handleFilterChange} />\n              <span>Fizika</span>\n            </label>\n          </div>\n\n          <div className='CoursesPage__filter-column'>\n            <h3>Nivo</h3>\n            <label className=\"filter-button\">\n              <input type=\"checkbox\" name=\"level\" value=\"osnovni\" onChange={handleFilterChange} />\n              <span>Osnovni</span>\n            </label>\n            <label className=\"filter-button\">\n              <input type=\"checkbox\" name=\"level\" value=\"Srednji\" onChange={handleFilterChange} />\n              <span>Srednji</span>\n            </label>\n            <label className=\"filter-button\">\n              <input type=\"checkbox\" name=\"level\" value=\"Napredni\" onChange={handleFilterChange} />\n              <span>Napredni</span>\n            </label>\n          </div>\n        </div>\n\n        <div className='CourseDiv__container'>\n          {error && <p style={{ color: 'red' }}>{error}</p>}\n          {courses.map((course) => (\n            <CourseCard key={course.id} item={course} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CoursesPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}