{"ast":null,"code":"import React,{useEffect,useState}from'react';import\"./SingleCoursePage.css\";import CourseInfoCard from'../../components/CourseInfoComponent/CourseInfoCard';import{Link,useParams}from'react-router-dom';import pozadina from\"../../images/pozadina.webp\";import api from'../../services/api';import TeacherPopup from'../../components/TeacherPopup/TeacherPopup';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SingleCoursePage=()=>{const{id}=useParams();const[course,setCourse]=useState(null);const[error,setError]=useState(\"\");const[selectedTeacher,setSelectedTeacher]=useState(null);useEffect(()=>{window.scrollTo(0,0);const fetchCourse=async()=>{try{const response=await api.getCourse(id);setCourse(response);setSelectedTeacher(null);}catch(err){setError('Failed to fetch course');}};fetchCourse();},[id]);const handleTeacherClick=teacher=>{setSelectedTeacher(teacher);};const closePopup=()=>{setSelectedTeacher(null);};if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",style:{color:\"darkRed\",height:\"40vh\",margin:\"2rem\"},children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"SingleCoursePage__container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"SingleCoursePage__container-bg\",src:pozadina,alt:\"\"}),/*#__PURE__*/_jsx(CourseInfoCard,{course:course}),/*#__PURE__*/_jsxs(\"div\",{className:\"SingleCoursePage__container-right\",children:[/*#__PURE__*/_jsx(\"h2\",{children:course===null||course===void 0?void 0:course.title}),/*#__PURE__*/_jsx(\"p\",{children:course===null||course===void 0?void 0:course.description}),/*#__PURE__*/_jsx(\"h3\",{children:\"Predava\\u010D na ovom kursu\"}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>{handleTeacherClick(course===null||course===void 0?void 0:course.instructor);},className:\"AboutPage__InstructorCard-circleContainer\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"AboutPage__InstructorCard-imgCircle\",src:course===null||course===void 0?void 0:course.instructor.image_url,alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:course===null||course===void 0?void 0:course.instructor.name})]}),/*#__PURE__*/_jsx(Link,{to:\"https://www.google.com\",className:\"SingleCoursePage__link\",children:\"Prijavi Se\"})]}),selectedTeacher&&/*#__PURE__*/_jsx(TeacherPopup,{teacher:selectedTeacher,onClose:closePopup})]});};export default SingleCoursePage;","map":{"version":3,"names":["React","useEffect","useState","CourseInfoCard","Link","useParams","pozadina","api","TeacherPopup","jsx","_jsx","jsxs","_jsxs","SingleCoursePage","id","course","setCourse","error","setError","selectedTeacher","setSelectedTeacher","window","scrollTo","fetchCourse","response","getCourse","err","handleTeacherClick","teacher","closePopup","className","style","color","height","margin","children","src","alt","title","description","onClick","instructor","image_url","name","to","onClose"],"sources":["/Users/seidkrsic/Desktop/Sigma/SigmaFront/sigma/src/pages/SingleCoursePage/SingleCoursePage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport \"./SingleCoursePage.css\";\nimport CourseInfoCard from '../../components/CourseInfoComponent/CourseInfoCard';\nimport { Link, useParams } from 'react-router-dom';\nimport pozadina from \"../../images/pozadina.webp\";\nimport api from '../../services/api';\nimport TeacherPopup from '../../components/TeacherPopup/TeacherPopup';\n\nconst SingleCoursePage = () => {\n  const { id } = useParams();\n  const [course, setCourse] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [selectedTeacher, setSelectedTeacher] = useState(null);\n\n  useEffect(() => {\n    window.scrollTo(0,0)\n    const fetchCourse = async () => {\n      try {\n        const response = await api.getCourse(id);\n        setCourse(response);\n        setSelectedTeacher(null);\n      } catch (err) {\n        setError('Failed to fetch course');\n      }\n    };\n\n    fetchCourse();\n  }, [id]); \n\n  const handleTeacherClick = (teacher) => {\n    setSelectedTeacher(teacher);\n  };\n\n  const closePopup = () => {\n    setSelectedTeacher(null);\n  };\n\n\n\n  if (error) { \n    return <div className=\"error\" style={{color: \"darkRed\", height: \"40vh\", margin: \"2rem\" }}>{error}</div>   \n  }\n\n  return (\n    <div className='SingleCoursePage__container'>\n      <img className='SingleCoursePage__container-bg' src={pozadina} alt=\"\" />\n      <CourseInfoCard course={course} /> \n\n      <div className='SingleCoursePage__container-right'>\n        <h2>{course?.title}</h2>\n        <p>{course?.description}</p>\n        <h3>Predavaƒç na ovom kursu</h3>\n        <div onClick={() =>{handleTeacherClick(course?.instructor)}} className='AboutPage__InstructorCard-circleContainer'>\n            <img className='AboutPage__InstructorCard-imgCircle' src={course?.instructor.image_url} alt=\"\" />\n            <h3>{course?.instructor.name}</h3>\n        </div> \n        <Link to=\"https://www.google.com\" className='SingleCoursePage__link'>Prijavi Se</Link> \n      </div>\n\n      {selectedTeacher && <TeacherPopup teacher={selectedTeacher} onClose={closePopup} /> }\n  \n      \n    </div>\n  );\n}\n\nexport default SingleCoursePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}